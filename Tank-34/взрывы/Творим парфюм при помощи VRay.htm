<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Easy Render - уроки и статьи по 3D Max. Урок: Творим парфюм!</title>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta  content="easy-render.nm.ru Easy Render  3D Max tutorials 3d Max 3D  уроки моделирование modelling meshes graphics графика 3D help articles  3dsmax  computer graphics" name=keywords>
<meta content="Эта страничка полностью посвящена 3D графике и в частности  программе 3D MAX. Основное внимание  уделено навыкам работы с программой, чему посвящена серия уроков. Здесь можно задать свои вопросы,  а так же найти ссылки на другие сайты."name=description >
<meta content=ALL name=robots>
<meta name="resource-type" content="document ">
<meta content="Verstak Vladimir" name=author>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link href="Творим парфюм при помощи VRay_files/main0000.css" rel="stylesheet" type="text/css">
<script language="JavaScript" src="Творим парфюм при помощи VRay_files/tip_form.js"></script>
<!-- PRELOADING A SEARCH SCRIPT -->
<script language="JavaScript" src="Творим парфюм при помощи VRay_files/status00.js"></script> <!-- PRELOADING STATUS LINE --><script language="JavaScript" src="Творим парфюм при помощи VRay_files/menu0000.js"></script>
<!-- PRELOADING LEFT MENU -->
<script language="JavaScript" src="Творим парфюм при помощи VRay_files/date0000.js"></script>
<!-- PRELOADING A DATE -->
<script language="JavaScript" src="Творим парфюм при помощи VRay_files/news0000.js"></script>
<!-- PRELOADING HIDE NEWS -->
<script language="JavaScript">
 <!-- 
// PRELOADING IMAGES
if (document.images) {
 img_down=new Image(); img_down.src="Img/top.jpg"; 
 img_up  =new Image(); img_up.src="Img/bottom.jpg"; }
 	
	var messages = new Array()
messages[0]="<font face='Arial'>Частей: ................................  1</font>"
messages[1]="<font face='Arial'>Размер файла:  ............253Kb</font>"
messages[2]="<font face='Arial'>Загрузка (33,6 Kb/s):  ......61c</font>"
messages[3]="<font face='Arial'>Иллюстраций:  ..................17</font>"
messages[4]="<font face='Arial'>Файлы урока:  .................есть</font>"
 
 //-->
</script>
</head>
<body> 
<script language="javascript" src="Творим парфюм при помощи VRay_files/search00.js"></script> 
<script language="javascript" src="Творим парфюм при помощи VRay_files/leftmenu.js"></script> 
<table id="mainTb"  border="0"cellpadding="0" cellspacing="0"> 
  <tr> 
    <td width="205"  height="54px"rowspan="2" ><img src="Творим парфюм при помощи VRay_files/top00000.jpg" class="er" ></td> 
    <td height="30"  align="right"><a href="#" class="buttSr"  onClick="search_form(tip_Form); return false;">поиск </a></td> 
    <td align="right"  bgcolor="#999966"></td> 
  </tr> 
  <tr> 
    <td height="24" bgcolor="#CCCC99" id="header" >уроки </td> 
    <td  width="175px;" bgcolor="#999966"> </td> 
  </tr> 
  <tr> 
    <td  bgcolor="#F9F9EE" ><img src="Творим парфюм при помощи VRay_files/bottom00.jpg" class="er" width="154" height="50"></td> 
    <td align="right"  bgcolor="#F9F9EE"><div class="scrollHd"> 
        <p class="scroll" >статистика&nbsp;урока</p> 
        <script type='text/javascript' src="Творим парфюм при помощи VRay_files/scroll00.js"></script> 
      </div></td> 
    <td   width="175px;" bgcolor="#ffffff"><div id="box"> <a href="#" class="butt" onClick="javascript:showHideRightColl();"><br> 
        скрыть панель</a></div></td> 
  </tr> 
</table> 
<table width="100%"  cellspacing="0"> 
  <tr> 
    <td width="129px" align="center" valign="bottom"   bgcolor="#999966"><img src="Творим парфюм при помощи VRay_files/spacer00.gif" width="125"> 
      <span class="counter">с марта 2004</span>	    <!--Rating@Mail.ru COUNTER--> 
      <script language="JavaScript" type="text/javascript"><!--
d=document;var a='';a+=';r='+escape(d.referrer)
js=10//--></script> 
      <script language="JavaScript1.1" type="text/javascript"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script> 
      <script language="JavaScript1.2" type="text/javascript"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script> 
      <script language="JavaScript1.3" type="text/javascript"><!--
js=13//--></script> 
      <script language="JavaScript" type="text/javascript"><!--
d.write('<a href="http://top.mail.ru/jump?from=697351"'+
' target=_top><img src="http://top.list.ru/counter'+
'?id=697351;t=86;js='+js+a+';rand='+Math.random()+
'" alt="Рейтинг@Mail.ru"'+' border=0 height=18 width=88/><\/a>')
if(11<js)d.write('<'+'!-- ')//--></script> 
      <noscript> 
      <a
target=_top href="http://top.mail.ru/jump?from=697351"><img
src="http://top.list.ru/counter?js=na;id=697351;t=86"
border=0 height=18 width=88
alt="Рейтинг@Mail.ru"/></a> 
      </noscript> 
      <script language="JavaScript" type="text/javascript"><!--
if(11<js)d.write('--'+'>')//--></script> 
      <!--/COUNTER--> </td> 
    <td valign="top" width="100%" bgcolor="#F9F9EE"><div class="content"> 
        <p class="headerLine">Творим парфюм при помощи VRay!</p> 
        <p>В этом уроке я не буду подробно описывать процесс моделирования, текстурирования  и рендера, а только задам направление для самостоятельной
        	работы. Как мне кажется, любой 3D дизайнер (да и не только) должен уметь творчески подходить к работе. Того, что я собираюсь показать, вполне
        	хватит на работу среднего уровня - остальное Ваше желание и стремление к совершенству.<br> 
          Итак, приступим. <br>
          Не секрет, что наряду с созданием материалов хрома, золота и воды, материал стекла должен уметь делать каждый уважающий себя 3-дешник. По
          	этой теме написано достаточно много уроков, я лишь попытаюсь высказать свое мнение, затронув теорию и практику моделирования
          	стекла и жидкости.</p> 
        <p>Начнем как всегда с теории. Для начала предлагаю Вам посмотреть фотографии на рис. 1 и рис. 2. </p> 
        <div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0100.jpg" width="126" height="158"> рис. 1 <img src="Творим парфюм при помощи VRay_files/Img_0200.jpg" width="126" height="158"> рис. 2</div> 
        <p>Как видите, стекло представлено большим количеством отражений и преломлениями. Собственно в этом и заключается создание реалистичной модели
        	- правильно (или максимально приближенно) передать эти свойства стекла и жидкости. Кроме того не помешает показать эффект каустики. Для
        	непосвященных уточняю, что это не та самая едкая сода, которая называется каустикой, а эффект, который получается при прохождении
        	света через преломляющие среды. </p> 
        <p>Давайте попробуем разобраться с преломлениями светового потока, известного нам еще со школьной скамьи как Рефракция (Refraction). Численная
          величина этого явления определяется коэффициентом преломления. Не стану грузить Вас формулами и графиками, скажу лишь, что для понимания этого
          явления вы должны знать, что преломления светового луча возникают на границах двух сред с разной плотностью (например воздух - вода, вода - стекло),
          где разная скорость светового потока. <br>
          Для того, чтобы получить этот эффект в компьютерной графике Вам потребуется использование как минимум двух вещей: рендер должен проводиться
          при помощи метода трассировки лучей и материалы, используемые в сцене должны иметь различный коэффициент преломления.<br>
          Мы в этом уроке не будем стремиться полностью повторить реальные преломления - мы работаем в виртуальном мире , но это не значит, что мы
          не можем использовать реальные коэффициенты. Конечно, где-то в угоду красивой картинке, можно немножко погрешить против истины (например,
          я иногда для стекла использую больший коэффициент), но если Вы все же решите делать все по-правилам, то в таблице, представленной ниже Вы
          найдете коэффициент преломления основных материалов. </p> 
        <p> 
        <table width="500" border="0" align="center" cellpadding="0" cellspacing="5" bgcolor="#FFFFFF">
        	<tr>
        		<td width="300"  class="headerLineCopirite">Название материала </td>
        		<td class="headerLineCopirite">Коэфф. преломления </td>
   		  </tr>
        	<tr>
        		<td align="center">Вакуум</td>
        		<td align="center">1.00</td>
   		  </tr>
        	<tr>
        		<td align="center">Воздух</td>
        		<td align="center"> 1.00029 </td>
   		  </tr>
        	<tr>
        		<td align="center">Вода</td>
        		<td align="center"> 1.333 </td>
   		  </tr>
        	<tr>
        		<td align="center">Стекло</td>
        		<td align="center"> 1.44 - 1.90 </td>
   		  </tr>
        	<tr>
        		<td align="center">Янтарь</td>
        		<td align="center"> 1.54 </td>
   		  </tr>
        	<tr>
        		<td align="center">Кварц</td>
        		<td align="center"> 1.55 </td>
   		  </tr>
        	<tr>
        		<td align="center">Рубин</td>
        		<td align="center"> 1.76 - 1.77</td>
   		  </tr>
        	<tr>
        		<td align="center">Алмаз</td>
        		<td align="center"> 2.417 - 2.419</td>
   		  </tr>
        	<tr>
        		<td align="center">Алкоголь</td>
        		<td align="center"> 1.329 </td>
   		  </tr>
        	<tr>
        		<td align="center">Хрусталь</td>
        		<td align="center"> 2.00 </td>
   		  </tr>
       	</table>
        <p>Пришло время заняться геометрией.<br>
        	Если Вам по какой-либо причине не хочется моделировать емкость, Вы <a href="http://www.easyrender.nm.ru/Files/Bottle.rar">можете воспользоваться моей моделью</a> (обращаю
        	Ваше внимание на то, что файл сделан в 6 версии Макса).<br>
    	Если же все-таки решите сделать ее самостоятельно, прошу обратить внимание на следующие аспекты. <br>
    	Во-первых, для того, чтобы получить на выходе хорошую
    	картинку, нужно моделировать как емкость, так и ее наполнение, с учетом толщины материала. <br>
    	Во-вторых, геометрия должна иметь сглаженные углы. Подойдет и граненая поверхность. Это необходимо для того, чтобы облегчить создание
    	эффектов отражения и преломления.<br>
В-третьих, в сцене должны быть предметы, которые будут отражаться в нашем флаконе. В крайнем случае можно использовать карту окружения. <br>
    	На практике это будет выглядеть так как на рис. 3.        </p>  
        <div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0300.png" width="400" height="320"> рис. 3 </div> 
        <p>Будем считать, что с геометрией мы справились. Пришло время заняться материалами. <br>
Первым делом сделаем материал стекла. Можно было бы воспользоваться VRay-евским VRayMtl материалом, но мне бы хотелось кроме красивых отражений и
	преломлений получить еще и блики на стекле. И для этого я использую стандартный материал с картой VRayMap в качестве карт отражения (Reflection)
	и преломления (Refraction). На рис. 4 Вы можете видеть настройки этого материала. </p> <div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0400.png" width="340" height="714"> рис. 4 </div>
	<p>Справедливости ради должен заметить, что более качественного результата можно добиться используя в качестве основного материала Double Sided. В этом
	  случае используются Стандартные материалы (как на рис. 4) в качестве Facing Material и Back Material, с той лишь разницей, что можно независимо управлять
	  свойствами этих материалов (например, для внутреннего материала использовать приглушенные блики и отражения). Но как Вы знаете, за качество приходится
	  платить, и в данном случае расплатой за качество будет время рендеринга, которое может вырости в разы. В связи с этим я остановлюсь на более простом
	  варианте, а Вы, если хотите, можете использовать Double Sided.<br>
	  Итак, продолжим. На рис. 4 Index of Refraction я выставил в 1.8. Это как раз тот случай, когда лучше использовать больший коэффициент, для того,
	  чтобы более эффектными выглядели преломления в стекле. Specular Level нужно выставить свыше 100 (у меня это 130) для того, чтобы получить на стекле
	  блики.<br>
	  Карты Reflection и Refraction
представлены на рис. 5 и 6. Это VRayMap, в котором цвет параметра Filter color влияет на силу эффекта: чем светлее цвет, тем большую отражательную способность
	  или прозрачность будет иметь материал. </p> 
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0500.png" width="350" height="420"> рис. 5 </div>
	<p>Для отражений - это темно-серый цвет.</p> 
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0600.png" width="350" height="420"> рис. 6 </div>	
	<p>Для параметра преломления, это будет светло-серый. <br>
	  Я намеренно не даю точной раскладки цвета, потому как степень яркости цвета будет зависеть от окружения, источника света и т.д. Главное понять принцип
	    работы - тогда Вы сами сможете подбирать нужные Вам параметры.<br>
	    Сейчас перейдем к настройкам рендера. На рис. 7 представлены основные настройки для быстрой визуализации. Конечно же понятие &quot;быстрая&quot; весьма условно,
	    т.к. при просчете отражений-преломлений это всегда требует времени. </p> 
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0700.png" width="420" height="760"> рис. 7 </div>
	<p>Прошу обратить Ваше внимание на то, как выставлены параметры в GI. Это тестовые настройки, но на данном этапе их вполне достаточно. Кроме того, необходимо
	  отключить Default Lights и ввести в сцену свой источник света. Я использовал VRay-евский светильник и не столько для освещения (т.к. сцену засвечивает
	  цвет окружающей среды (GI Environment)), сколько для эффекта каустики, но об этом позже.<br>
	  Хочу еще несколько слов сказать по поводу глубины просчета преломлений.
Возможно, что Вам потребуется знать минимальное кол-во таких преломлений, для экономии ресурсов компьютера. Так вот, просчитать их совсем не сложно.
	  Я использовал 10 (рис.
	  7), с запасом, хотя на самом деле их для нашего флакона с парфюмом нужно всего 5 (см. рис. 8) </p> 
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0800.png" width="400" height="299"> рис. 8 </div>
	<p>Пришло время сделать тестовый рендер. Если Вы все сделали так, как описано выше, то результат проведенной работы будет такой или близкий к тому,
	  что Вы можете видеть на рис. 9. </p>
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_0900.jpg" width="350" height="256"> рис. 9 </div>
	<p>Здесь представлен рендер только стекла, все остальное выключено из рендера. <br>
		Ну кое-что уже есть. На мой взгляд можно попробовать добавить в прозрачность
	  карту Falloff для того, чтобы увеличить плотность стекла на краях - так будет более естественно. Применяется она в параметрах рефракции (рис.
		10). </p>
	<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1000.png" width="350" height="425"> рис. 10 </div>
	  <p>Настройки карты Falloff применяются аналогичные тем, которые у меня на рис. 11.</p><div  align="center"><img src="Творим парфюм при помощи VRay_files/Img_1100.png" width="350" height="622"> рис. 11 </div>	  
	  <p>Здесь все просто. Есть два параметра Front : Side, которые и определяют прозрачность в середине и на краях. Естественно, что в нашем случае
	  	прозрачность в середине объекта выше, чем и объясняется применение белого цвета (полная прозрачность). Соответственно для краевых эффектов
	  	применен серый цвет. Для того, чтобы прозрачность спадала только на границах, я использовал кривую, с помощью которой сместил "непрозрачность" к
	  	краям.<br>
	  	А то, что в итоге получилось
можно	посмотреть на рис. 12 </p><div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1200.jpg" width="350" height="271"> рис. 12 </div>
<p>Пришло время заняться материалом жидкости. Делается он аналогично материалу стекла, с той лишь разницей, что здесь  другой коэффициент
  преломления (я установил 1.32, как для спиртосодержащих жидкостей) и цвет духов определяется цветом параметра Filter Color и Fog Color для карты преломлений
  VRayMap. (рис. 13) </p>
<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1300.png" width="350" height="424"> рис. 13 </div>
<p>Рендерим бутылку вместе с ее содержимым (рис. 14).</p>
<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1400.jpg" width="350" height="271"> рис. 14 </div>
<p>Конечно же можно еще поэкспериментировать с жидкостью, ее цветом и прозрачностью, но моя задача показать как это делается, а Вы уже сами решайте, что
  и как менять. Я же продолжаю. И на данном этапе хочу добавить в рендер каустику. Делается это посредством активации двух параметров в рендере: во-первых,
  нужно указать какой источник света будет ее генерировать, во-вторых, включить ее просчет. На рис. 15 как раз эти параметры и представлены.</p>
<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1500.png" width="430" height="614"> рис. 15 </div><p>На рис. 16 рендеренная картинка уже с каустикой.</p>
<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1600.jpg" width="350" height="271"> рис. 16 </div>
<p>Ну и, наконец, рендер флакона с  крышкой и небольшим окружением (рис. 17).</p>
<div  align="center"> <img src="Творим парфюм при помощи VRay_files/Img_1700.jpg" width="400" height="300"> рис. 17 </div>
<p>Вот, собственно и все, о чем я хотел рассказать в сегодняшнем уроке.<br>
 Как я уже говорил  в самом начале урока, это только руководство к действию. Для того, чтобы сделать хорошую картинку Вам придется не один раз сделать тестовый рендер и  "поиграть" настройками, но я надеюсь, что сумел раскрыть основы  этого процесса. Остальное за Вами.  </p>
	 </div></td> 
    <td  width="0px" valign="top" bgcolor="#CCCC99"><div id="rightColl"> 
        <script type='text/javascript' src="Творим парфюм при помощи VRay_files/top10000.js"></script> 
      </div></td> 
  </tr> 
  <tr> 
    <td></td> 
    <td bgcolor="#FF00FF" class="headerLineCopirite">© 2001-2005, Design and Programming by Vladimir Verstak.</td> 
    <td></td> 
  </tr> 
</table> 
</body>
</html>
<div align="center">
<br><br><br>
<table cellpadding=0 cellspacing=0 border=0>
<tr valign="top">
	<td>
<div align="center">
<table cellpadding=0 cellspacing=0 border=0>
<tr valign="top">
	<td>
<div align="center">
    <a href="http://www.pochta.ru/regform.php?rid=hosting" style="display:block; margin:0px"><img src="Творим парфюм при помощи VRay_files/hosting0.gif" width="468" height="60" border="0"></a>
    <form name='sign_up' action="http://www.pochta.ru/regform.php?rid=hosting" method="POST" style="width:468px; background-color:#9cc7f7; margin:0px; padding:3px 0px 3px 0px; border:solid #529eef; border-width:0px 1px 1px 1px">
        <input type="hidden" name="rid" value="hosting">
        <input type="text" name="reg_login" value="<name>" size="20" style="width: 85px;" onClick="document.forms.sign_up.elements.reg_login.value='';"/><select name="domain">
            <option value="pochta.ru">@pochta.ru</option>
            <option value="front.ru">@front.ru</option>
            <option value="hotbox.ru">@hotbox.ru</option>
            <option value="land.ru">@land.ru</option>
            <option value="pochtamt.ru">@pochtamt.ru</option>
            <option value="rbcmail.ru">@rbcmail.ru</option>
        </select>
        <input type="submit" value="&raquo;&raquo;&raquo;" style="border:white 1px solid; padding:0px 5px 9px 7px; background: url(http://www.pochta.ru/hosting/hosting_button.gif) repeat-x; font:bold 12px arial; color:white; height:21px; cursor:pointer">
    </form>
</div>
<script language="javascript"><!--
ru = '(none)';
u="count.rbc.ru/p103.gif";d=document;nv=navigator;na=nv.appName;p=0;j="N";
n=(na.substring(0,2)=="Mi")?0:1;y="";
y+="<img src='http://"+u+"?r="+escape(d.referrer)+"&hash="+d.location.hash.substr(1)+"&rf="+escape(parent.document.referrer)+"&rn="+Math.random()+"&ru="+ru;
y+="' border=0  width=1 height=1 alt='count'>";
d.write(y);if(!n) { d.write("<"+"!--"); }//--></script><noscript>
<img src="http://count.rbc.ru/p103.gif" alt='count' border='0'  width=1 height=1 >
</noscript><script language="javascript1.2"><!--
if(!n) { d.write("--"+">"); }//--></script>

		
<script language="JavaScript">
<!--
var random = Math.floor(Math.random() * 1000000000);
document.write('<scr'+'ipt language="JavaScript" src="http://medialand.relax.ru/code?pid=33&gid=40&oin=0&rid='+random+'"></scr'+'ipt>');
// -->
</script>

	</td>
	<td width="15px">&nbsp;</td>
	<td>

<!--BEGIN Medialand Podval 400x90 (simple_400x90)-->
<script language="JavaScript">
<!--
var random = Math.floor(Math.random() * 1000000000), cdate = new Date();
document.write('<iframe src="http://medialand.relax.ru/code?pid=69&gid=55&oin=1&rto=0&srb=&rid=' + random + '&dom=' + cdate.getDate() + '&dow=' + cdate.getDay() + '&hod=' + cdate.getHours() + '" frameborder="0" vspace="0" hspace="0" width="400" height="90" marginwidth="0" marginheight="0" scrolling="no">');
document.write('<a href="http://medialand.relax.ru/default_reference?pid=69&gid=55" target="_blank"><img src="http://medialand.relax.ru/default_image?pid=69&gid=55" border="0"></a>');
document.write('</iframe>');
// -->
</script>
<noscript>
<iframe src="http://medialand.relax.ru/code?pid=69&gid=55&oin=1&rto=0" frameborder="0" vspace="0" hspace="0" width="400" height="90" marginwidth="0" marginheight="0" scrolling="no"><a href="http://medialand.relax.ru/default_reference?pid=69&gid=55" target="_blank"><img src="http://medialand.relax.ru/default_image?pid=69&gid=55" border="0"></a></iframe>
</noscript>
<!--END Medialand -->

	</td>
</tr>
</table>
<small><a title="почта" href="http://www.pochta.ru/">почта</a></small>
</div>

<!--BEGIN Medialand PopUnder Почта.ру (PopUnder)-->
<script language="JavaScript">
<!--
var random = Math.floor(Math.random() * 1000000000);
document.write('<scr' + 'ipt language="JavaScript" src="http://medialand.relax.ru/code?pid=33&gid=40&oin=0&rid=' + random +'"></scr' + 'ipt>');
// -->
</script>
<!--END Medialand -->

<!-- START Nielsen//NetRatings SiteCensus V5.3 -->
<!-- COPYRIGHT 2007 Nielsen//NetRatings -->
<script type="text/javascript">
	var _rsCI="ru-rbc";
	var _rsCG="housing";
	var _rsDN="//secure-it.imrworldwide.com/";
	var _rsCC=0;
	var _rsIP=1;
	var _rsPLfl=0;
</script>
<script type="text/javascript" src="Творим парфюм при помощи VRay_files/v5300000.js"></script>
<noscript>
	<div><img src="//secure-it.imrworldwide.com/cgi-bin/m?ci=ru-rbc&amp;cg=housing" style="display:none" alt=""/></div>
</noscript>
<!-- END Nielsen//NetRatings SiteCensus V5.3 -->

<!-- This document saved from http://www.easy-render.nm.ru/tut_18.htm -->
